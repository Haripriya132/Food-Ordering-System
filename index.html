<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Ordering System</title>
    <style>
        :root {
            --primary: #e63946;
            --secondary: #457b9d;
            --dark: #1d3557;
            --light: #f1faee;
            --accent: #a8dadc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #212529;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .auth-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .auth-box {
            background: white;
            border-radius: 10px;
            padding: 30px;
            width: 350px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .auth-box:hover {
            transform: translateY(-5px);
        }
        
        .auth-box h2 {
            margin-bottom: 20px;
            color: var(--primary);
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s;
            width: 100%;
        }
        
        .btn:hover {
            background-color: #c1121f;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: #315d7a;
        }
        
        .btn-back {
            background-color: var(--accent);
            color: var(--dark);
            margin-bottom: 20px;
        }
        
        .restaurant-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .restaurant-img {
            height: 200px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
            transition: transform 0.3s ease;
            border-radius: 10px 10px 0 0;
        }
        
        .restaurant-card:hover .restaurant-img {
            transform: scale(1.03);
        }
        
        .restaurant-info {
            padding: 15px;
        }
        
        .restaurant-info h3 {
            margin-bottom: 10px;
            color: var(--dark);
            font-size: 1.2rem;
        }
        
        .restaurant-info button {
            margin-top: 10px;
        }
        
        .menu-container {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }
        
        .menu-category {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .menu-category h3 {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .menu-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item-info {
            flex: 2;
        }
        
        .menu-item-price {
            flex: 1;
            text-align: right;
            font-weight: 600;
            color: var(--primary);
        }
        
        .menu-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .menu-item-controls input {
            width: 50px;
            text-align: center;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .add-to-cart {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .cart-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-total {
            font-weight: 600;
            font-size: 18px;
            margin-top: 20px;
            text-align: right;
        }
        
        .order-confirmation {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .admin-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .order-list {
            margin-top: 20px;
        }
        
        .order-card {
            background: #f9f9f9;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }
        
        .order-card h4 {
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .hidden {
            display: none;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #eee;
            border: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        
        .tab.active {
            background-color: var(--primary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
        }
        
        @media (max-width: 768px) {
            .auth-container {
                flex-direction: column;
                align-items: center;
            }
            
            .menu-container {
                flex-direction: column;
            }
        }
        /* Add this to your existing styles */
#welcome-screen {
    background-image: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836'); /* Food image URL */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    min-height: 100vh;
    padding: 40px 0;
    position: relative; /* Needed for overlay */
}

/* Dark overlay for better text visibility */
#welcome-screen::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
    z-index: 0;
}

/* Ensure auth boxes stay above overlay */
.auth-container {
    position: relative;
    z-index: 1;
}
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">CraveHive</div>
            <p>Order your favorite food with just a few clicks</p>
        </div>
    </header>
    
    <div class="notification" id="notification"></div>
    
    <main class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen">
            
            <div class="auth-container">
                <div class="auth-box">
                    <h2>Login</h2>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="login-username">Username</label>
                            <input type="text" id="login-username" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password">Password</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit" class="btn">Login</button>
                        <div style="text-align: center; margin-top: 15px;">
                            <button type="button" class="btn btn-secondary" id="admin-login-btn">Admin Login</button>
                        </div>
                    </form>
                </div>
                
                <div class="auth-box">
                    <h2>Register</h2>
                    <form id="register-form">
                        <div class="form-group">
                            <label for="register-username">Username</label>
                            <input type="text" id="register-username" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password">Password</label>
                            <input type="password" id="register-password" required>
                        </div>
                        <button type="submit" class="btn btn-secondary">Register</button>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Restaurant Selection -->
        <div id="restaurant-screen" class="hidden">
            <button class="btn btn-back" id="logout-btn">Logout</button>
            <h2>Choose a Restaurant</h2>
            <div class="restaurant-grid" id="restaurant-list">
                <!-- Restaurants will be populated here -->
            </div>
        </div>
        
        <!-- Menu Selection -->
        <div id="menu-screen" class="hidden">
            <button class="btn btn-back" id="back-to-restaurants">Back to Restaurants</button>
            <h2 id="restaurant-name">Menu</h2>
            
            <div class="menu-container">
                <div class="menu-category">
                    <h3>Vegetarian</h3>
                    <div id="veg-items">
                        <!-- Vegetarian items will be populated here -->
                    </div>
                </div>
                
                <div class="menu-category">
                    <h3>Non-Vegetarian</h3>
                    <div id="nonveg-items">
                        <!-- Non-veg items will be populated here -->
                    </div>
                </div>
                
                <div class="menu-category">
                    <h3>Beverages</h3>
                    <div id="bev-items">
                        <!-- Beverages will be populated here -->
                    </div>
                </div>
            </div>
            
            <div class="cart-container">
                <h3>Your Cart</h3>
                <div id="cart-items">
                    <!-- Cart items will be populated here -->
                    <p>Your cart is empty</p>
                </div>
                <div class="cart-total" id="cart-total">Total: ₹0.00</div>
                <button class="btn" id="checkout-btn">Proceed to Checkout</button>
            </div>
        </div>
        
        <!-- Order Confirmation -->
        <div id="order-confirmation" class="hidden">
            <button class="btn btn-back" id="new-order-btn">Place New Order</button>
            <h2>Order Confirmation</h2>
            <div class="order-confirmation">
                <h3>Order Summary</h3>
                <div id="order-summary">
                    <!-- Order summary will be populated here -->
                </div>
                <div class="cart-total" id="order-total">Total: ₹0.00</div>
                <p>Your order has been placed successfully!</p>
                <button class="btn btn-secondary" id="view-orders-btn">View My Orders</button>
            </div>
        </div>
        
        <!-- Admin Panel -->
        <div id="admin-panel" class="hidden">
            <button class="btn btn-back" id="admin-logout-btn">Logout</button>
            <h2>Admin Panel</h2>
            
            <div class="tab-container">
                <button class="tab active" data-tab="pending-orders">Pending Orders</button>
                <button class="tab" data-tab="processed-orders">Processed Orders</button>
            </div>
            
            <div class="tab-content active" id="pending-orders">
                <div class="order-list" id="pending-orders-list">
                    <!-- Pending orders will be populated here -->
                    <p>No pending orders</p>
                </div>
            </div>
            
            <div class="tab-content" id="processed-orders">
                <div class="order-list" id="processed-orders-list">
                    <!-- Processed orders will be populated here -->
                    <p>No processed orders</p>
                </div>
            </div>
        </div>
        
        <!-- User Orders -->
        <div id="user-orders" class="hidden">
            <button class="btn btn-back" id="back-to-menu-from-orders">Back to Menu</button>
            <h2>My Orders</h2>
            <div class="order-list" id="user-orders-list">
                <!-- User orders will be populated here -->
                <p>You haven't placed any orders yet</p>
            </div>
        </div>
    </main>
    
    <script>
        // User data from your C++ code
        const users = [
            { username: "Admin_priya", password: "130204", userId: 100, isAdmin: true }
        ];
        
        // Restaurants data from your C++ code
        const restaurants = [

            {
                id: 1,
                name: "Dindigul Thalappakatti Restaurant",
                image: "https://thalappakatti.com/wp-content/uploads/2024/05/thalappakatti-chicken-biriyani--1200x800.jpg",
                vegItems: [
                    { id: 101, name: "Vegetable Biryani", price: 250 },
                    { id: 102, name: "Paneer Butter Masala", price: 300 },
                    { id: 103, name: "Dal Tadka", price: 200 },
                    { id: 104, name: "Kadai Veg", price: 220 },
                    { id: 105, name: "Thalappakatti Veg Biriyani", price: 240 }
                ],
                nonVegItems: [
                    { id: 201, name: "Chicken Biryani", price: 350 },
                    { id: 202, name: "Mutton Biryani", price: 400 },
                    { id: 203, name: "Fish Curry", price: 300 },
                    { id: 204, name: "Butter Chicken Masala", price: 320 },
                    { id: 205, name: "Nattu Kozhi Pepper Roast", price: 380 }
                ],
                beverages: [
                    { id: 301, name: "Soft Drinks", price: 50 },
                    { id: 302, name: "Fresh Lime Soda", price: 60 },
                    { id: 303, name: "Lassi", price: 70 },
                    { id: 304, name: "Filter Coffee", price: 40 },
                    { id: 305, name: "Lemon Tea", price: 45 }
                ]
            },
            {
                id: 2,
                name: "SS Hyderabad Hotels",
                image: "https://im.whatshot.in/img/2022/Mar/header-1647929736-1647931124.jpg",
                vegItems: [
                    { id: 106, name: "Vegetable Pulao", price: 200 },
                    { id: 107, name: "Chana Masala", price: 150 },
                    { id: 108, name: "Mixed Veg Curry", price: 180 },
                    { id: 109, name: "Dal Fry", price: 160 },
                    { id: 110, name: "Paneer Tikka Masala", price: 250 }
                ],
                nonVegItems: [
                    { id: 206, name: "Chicken Fry", price: 300 },
                    { id: 207, name: "Mutton Biryani", price: 350 },
                    { id: 208, name: "Prawn Masala", price: 400 },
                    { id: 209, name: "Fish Fry", price: 280 },
                    { id: 210, name: "Egg Curry", price: 150 }
                ],
                beverages: [
                    { id: 306, name: "Tea", price: 20 },
                    { id: 307, name: "Coffee", price: 30 },
                    { id: 308, name: "Mango Juice", price: 60 },
                    { id: 309, name: "Sweet Lime Juice", price: 55 },
                    { id: 310, name: "Buttermilk", price: 25 }
                ]
            },
            {
                id: 3,
                name: "SREE SUBBU MESS",
                image: "https://static.vecteezy.com/system/resources/previews/024/650/050/non_2x/gourmet-chicken-biryani-with-steamed-basmati-rice-generated-by-ai-free-photo.jpg",
                vegItems: [
                    { id: 111, name: "Idli", price: 40 },
                    { id: 112, name: "Dosa", price: 50 },
                    { id: 113, name: "Pongal", price: 60 },
                    { id: 114, name: "Rava Kesari", price: 45 },
                    { id: 115, name: "Vada Curry", price: 50 }
                ],
                nonVegItems: [
                    { id: 211, name: "Chicken Gravy", price: 200 },
                    { id: 212, name: "Mutton Soup", price: 250 },
                    { id: 213, name: "Nattu Kozhi Kulambu", price: 220 },
                    { id: 214, name: "Fish Fry", price: 300 },
                    { id: 215, name: "Egg Roast Masala", price: 180 }
                ],
                beverages: [
                    { id: 311, name: "Filter Coffee", price: 30 },
                    { id: 312, name: "Lemon Juice", price: 40 },
                    { id: 313, name: "Rose Milk", price: 50 },
                    { id: 314, name: "Badam Milkshake", price: 70 }
                ]
            },
            {
            id: 4,
        name: "Hotel Junior Kuppanna",
        image: "https://images.deliveryhero.io/image/fd-sg/LH/m6yp-hero.jpg",
        vegItems: [
        { id: 111, name: "Veg Meals Combo (Rice + Sambar + Rasam)", price: 200 },
        { id: 112, name: "Paneer Butter Masala Combo (Rice + Curry)", price: 250 },
        { id: 113, name: "Veg Fried Rice Combo (Rice + Side Dish)", price: 220 }
        ],
        nonVegItems: [
        { id: 211, name: "Chicken Meals Combo (Rice + Curry)", price: 350 },
        { id: 212, name: "Mutton Meals Combo (Rice + Curry)", price: 400 },
        { id: 213, name: "Fish Meals Combo (Rice + Curry)", price: 380 }
    ],
    beverages: [
        { id: 311, name: "Fresh Lime Soda Sweetened", price: 60 },
        { id: 312, name: "Ginger Tea Special Brewed Tea with Milk", price: 45 }
    ]
        },
        {
            id: 5,
            name: "Shree Anandhaas",
            image: "https://miro.medium.com/v2/resize:fit:592/0*NOpL9Cdt-dKsRFl9.jpg",
            vegItems: [
                { id: 121, name: "Sambar Idli Set Meal (Idli + Sambar)", price: 120 },
                { id: 122, name: "Pongal Combo Meal (Rasam + Poriyal + Appalam + Curd Dessert)", price: 220 },
                { id: 123, name: "Vegetable Biryani", price: 250 },
                { id: 124, name: "Chole Bhature", price: 180 },
                { id: 125, name: "Masala Dosa", price: 150 }
            ],
            nonVegItems: [
                { id: 221, name: "Chicken Biryani", price: 350 },
                { id: 222, name: "Mutton Rogan Josh", price: 400 },
                { id: 223, name: "Fish Curry", price: 300 },
                { id: 224, name: "Chicken Tikka", price: 320 },
                { id: 225, name: "Egg Curry", price: 200 }
            ],
            beverages: [
                { id: 321, name: "Filter Coffee", price: 30 },
                { id: 322, name: "Masala Tea", price: 25 },
                { id: 323, name: "Fresh Lime Soda", price: 60 },
                { id: 324, name: "Sweet Lassi", price: 70 }
            ]
        },
        {
            id: 6,
            name: "Aachi Mess",
            image: "https://assets.gqindia.com/photos/5ddcbd00836a7f0008bf48a4/16:9/w_1920,c_limit/biryani-gurugram.jpg",
            vegItems: [
                { id: 131, name: "Sambar Rice", price: 150 },
                { id: 132, name: "Vegetable Kurma", price: 180 },
                { id: 133, name: "Curd Rice", price: 120 },
                { id: 134, name: "Lemon Rice", price: 140 },
                { id: 135, name: "Pongal", price: 160 }
            ],
            nonVegItems: [
                { id: 231, name: "Chicken Curry", price: 250 },
                { id: 232, name: "Mutton Biryani", price: 350 },
                { id: 233, name: "Fish Fry", price: 280 },
                { id: 234, name: "Egg Curry", price: 200 },
                { id: 235, name: "Chicken 65", price: 300 }
            ],
            beverages: [
                { id: 331, name: "Tea", price: 20 },
                { id: 332, name: "Coffee", price: 30 },
                { id: 333, name: "Buttermilk", price: 25 },
                { id: 334, name: "Fresh Lime Juice", price: 50 }
            ]
        },
        {
            id: 7,
            name: "Annapoorna",
            image: "https://static.vecteezy.com/system/resources/previews/030/935/984/large_2x/a-of-biryani-photo.jpeg",
            vegItems: [
                { id: 141, name: "Idli (2 pcs)", price: 40 },
                { id: 142, name: "Dosa (Plain)", price: 50 },
                { id: 143, name: "Uttapam (Veg)", price: 60 },
                { id: 144, name: "Pongal (Veg)", price: 70 },
                { id: 145, name: "Vada (2 pcs)", price: 50 }
            ],
            nonVegItems: [
                { id: 241, name: "Chicken Gravy with Rice", price: 250 },
                { id: 242, name: "Mutton Biryani with Raita", price: 350 },
                { id: 243, name: "Fish Curry with Rice", price: 300 }
            ],
            beverages: [
                { id: 341, name: "Filter Coffee", price: 30 },
                { id: 342, name: "Tea", price: 20 },
                { id: 343, name: "Fresh Juice (Seasonal)", price: 60 }
            ]
        },
        {
            id: 8,
            name: "Barbeque Nation",
            image: "https://indiatodaypost.com/wp-content/uploads/2023/05/Bbq-Beer-and-Biryani-food-festival-1-1.jpg",
            vegItems: [
                { id: 151, name: "Paneer Tikka Skewers", price: 250 },
                { id: 152, name: "Veg Seekh Kebab", price: 220 },
                { id: 153, name: "Grilled Veg Platter", price: 300 },
                { id: 154, name: "Stuffed Mushrooms", price: 280 }
            ],
            nonVegItems: [
                { id: 251, name: "Chicken Tikka Skewers", price: 350 },
                { id: 252, name: "Mutton Seekh Kebab", price: 400 },
                { id: 253, name: "Grilled Prawns Platter", price: 450 }
            ],
            beverages: [
                { id: 351, name: "Soft Drinks (Coke/Pepsi)", price: 50 },
                { id: 352, name: "Fresh Lime Soda Sweetened/Salted", price: 60 }
            ]
        },
        {
            id: 9,
            name: "Hotel Chola",
            image: "https://tse4.mm.bing.net/th/id/OIP.izIeCVpAqBot9RLCUpbpxQHaE8?pid=Api&P=0&h=180",
            vegItems: [
                { id: 161, name: "Vegetable Biryani Plate", price: 250 },
                { id: 162, name: "Raita (Yogurt)", price: 40 },
                { id: 163, name: "Paneer Butter Masala Plate with Rice", price: 300 }
            ],
            nonVegItems: [
                { id: 261, name: "Ambur Chicken Biryani Plate", price: 350 },
                { id: 262, name: "Mutton Biryani Plate with Raita", price: 400 }
            ],
            beverages: [
                { id: 361, name: "Sweet Lime Soda", price: 60 },
                { id: 362, name: "Filter Coffee", price: 30 }
            ]
        },
        {
            id: 10,
            name: "Ambur Biryani Hotel",
            image: "https://www.mistay.in/travel-blog/content/images/2020/05/ambur-biryani-1.jpg",
            vegItems: [
                { id: 171, name: "Veg Biryani Plate with Raita", price: 240 },
                { id: 172, name: "Vegetable Kurma with Rice Plate", price: 200 }
            ],
            nonVegItems: [
                { id: 271, name: "Ambur Chicken Biryani Plate with Raita", price: 350 },
                { id: 272, name: "Mutton Biryani Plate with Raita and Egg Fry", price: 450 }
            ],
            beverages: [
                { id: 371, name: "Fresh Lime Soda Sweetened/Salted", price: 50 },
                { id: 372, name: "Tea", price: 20 },
                { id: 373, name: "Coffee", price: 30 }
            ]
        }
        ];

        // Order queue
        const orderQueue = [];
        let orderIdCounter = 1;
        
        // DOM elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const restaurantScreen = document.getElementById('restaurant-screen');
        const menuScreen = document.getElementById('menu-screen');
        const orderConfirmation = document.getElementById('order-confirmation');
        const adminPanel = document.getElementById('admin-panel');
        const userOrdersScreen = document.getElementById('user-orders');
        const notification = document.getElementById('notification');
        
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const adminLoginBtn = document.getElementById('admin-login-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const adminLogoutBtn = document.getElementById('admin-logout-btn');
        const backToRestaurantsBtn = document.getElementById('back-to-restaurants');
        const viewOrdersBtn = document.getElementById('view-orders-btn');
        const backToMenuFromOrders = document.getElementById('back-to-menu-from-orders');
        const checkoutBtn = document.getElementById('checkout-btn');
        const newOrderBtn = document.getElementById('new-order-btn');
        
        const restaurantList = document.getElementById('restaurant-list');
        const restaurantName = document.getElementById('restaurant-name');
        
        const vegItems = document.getElementById('veg-items');
        const nonVegItems = document.getElementById('nonveg-items');
        const bevItems = document.getElementById('bev-items');
        
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        
        const orderSummary = document.getElementById('order-summary');
        const orderTotal = document.getElementById('order-total');
        
        const pendingOrdersList = document.getElementById('pending-orders-list');
        const processedOrdersList = document.getElementById('processed-orders-list');
        const userOrdersList = document.getElementById('user-orders-list');
        
        // State
        let currentUser = null;
        let currentRestaurant = null;
        let cart = [];
        let userOrders = [];
        
        // Event Listeners
        loginForm.addEventListener('submit', handleLogin);
        registerForm.addEventListener('submit', handleRegister);
        adminLoginBtn.addEventListener('click', handleAdminLogin);
        logoutBtn.addEventListener('click', handleLogout);
        adminLogoutBtn.addEventListener('click', handleLogout);
        backToRestaurantsBtn.addEventListener('click', () => showScreen('restaurant-screen'));
        viewOrdersBtn.addEventListener('click', () => {
            loadUserOrders();
            showScreen('user-orders');
        });
        backToMenuFromOrders.addEventListener('click', () => showScreen('menu-screen'));
        checkoutBtn.addEventListener('click', handleCheckout);
        newOrderBtn.addEventListener('click', () => {
            cart = [];
            showScreen('restaurant-screen');
        });
        
        // Tab switching for admin panel
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
                
                if (tab.dataset.tab === 'pending-orders') {
                    loadPendingOrders();
                } else if (tab.dataset.tab === 'processed-orders') {
                    loadProcessedOrders();
                }
            });
        });
        
        // Functions
        function showNotification(message, isError = false) {
            notification.textContent = message;
            notification.style.backgroundColor = isError ? '#c1121f' : '#457b9d';
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                if (user.isAdmin) {
                    showNotification('Please use Admin Login for admin access', true);
                    return;
                }
                
                currentUser = user;
                showNotification('Login successful!');
                showScreen('restaurant-screen');
                loadRestaurants();
            } else {
                showNotification('Invalid username or password', true);
            }
        }
        
        function handleAdminLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => u.username === username && u.password === password && u.isAdmin);
            
            if (user) {
                currentUser = user;
                showNotification('Admin login successful!');
                showScreen('admin-panel');
                loadPendingOrders();
            } else {
                showNotification('Invalid admin credentials', true);
            }
        }
        
        function handleRegister(e) {
            e.preventDefault();
            const username = document.getElementById('register-username').value;
            const password = document.getElementById('register-password').value;
            
            if (!username || !password) {
                showNotification('Please enter both username and password', true);
                return;
            }
            
            if (users.some(u => u.username === username)) {
                showNotification('Username already exists!', true);
                return;
            }
            
            const newUser = {
                username,
                password,
                userId: 1000 + users.length,
                isAdmin: false
            };
            
            users.push(newUser);
            showNotification(`Registration successful! Your User ID: ${newUser.userId}`);
            document.getElementById('register-username').value = '';
            document.getElementById('register-password').value = '';
        }
        
        function handleLogout() {
            currentUser = null;
            cart = [];
            showScreen('welcome-screen');
            document.getElementById('login-username').value = '';
            document.getElementById('login-password').value = '';
            showNotification('Logged out successfully');
        }
        
        function loadRestaurants() {
            restaurantList.innerHTML = '';
            
            restaurants.forEach(restaurant => {
                const card = document.createElement('div');
                card.className = 'restaurant-card';
                card.innerHTML = `
                    <div class="restaurant-img" style="background-image: url('${restaurant.image}')"></div>
                    <div class="restaurant-info">
                        <h3>${restaurant.name}</h3>
                        <button class="btn" data-id="${restaurant.id}">View Menu</button>
                    </div>
                `;
                
                card.querySelector('button').addEventListener('click', () => {
                    loadRestaurantMenu(restaurant.id);
                });
                
                restaurantList.appendChild(card);
            });
        }
        
        function loadRestaurantMenu(restaurantId) {
            const restaurant = restaurants.find(r => r.id === restaurantId);
            
            if (!restaurant) {
                showNotification('Restaurant not found', true);
                return;
            }
            
            currentRestaurant = restaurant;
            restaurantName.textContent = restaurant.name;
            
            // Load vegetarian items
            vegItems.innerHTML = '';
            restaurant.vegItems.forEach(item => {
                const itemElement = createMenuItem(item);
                vegItems.appendChild(itemElement);
            });
            
            // Load non-vegetarian items
            nonVegItems.innerHTML = '';
            restaurant.nonVegItems.forEach(item => {
                const itemElement = createMenuItem(item);
                nonVegItems.appendChild(itemElement);
            });
            
            // Load beverages
            bevItems.innerHTML = '';
            restaurant.beverages.forEach(item => {
                const itemElement = createMenuItem(item);
                bevItems.appendChild(itemElement);
            });
            
            updateCart();
            showScreen('menu-screen');
        }
        
        function createMenuItem(item) {
            const div = document.createElement('div');
            div.className = 'menu-item';
            div.innerHTML = `
                <div class="menu-item-info">
                    <h4>${item.name}</h4>
                </div>
                <div class="menu-item-price">₹${item.price.toFixed(2)}</div>
                <div class="menu-item-controls">
                    <input type="number" min="1" value="1" id="qty-${item.id}">
                    <button class="add-to-cart" data-id="${item.id}">Add</button>
                </div>
            `;
            
            div.querySelector('.add-to-cart').addEventListener('click', () => {
                const quantity = parseInt(document.getElementById(`qty-${item.id}`).value);
                if (quantity > 0) {
                    addToCart(item, quantity);
                } else {
                    showNotification('Quantity must be at least 1', true);
                }
            });
            
            return div;
        }
        
        function addToCart(item, quantity) {
            const existingItem = cart.find(cartItem => cartItem.id === item.id);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    quantity: quantity
                });
            }
            
            updateCart();
            showNotification(`${quantity} ${item.name} added to cart`);
        }
        
        function updateCart() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p>Your cart is empty</p>';
                cartTotal.textContent = 'Total: ₹0.00';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div>${item.name} (${item.quantity})</div>
                    <div>₹${itemTotal.toFixed(2)}</div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = `Total: ₹${total.toFixed(2)}`;
        }
        
        function handleCheckout() {
            if (cart.length === 0) {
                showNotification('Your cart is empty', true);
                return;
            }
            
            // Create order
            const order = {
                id: orderIdCounter++,
                userId: currentUser.userId,
                username: currentUser.username,
                restaurantId: currentRestaurant.id,
                restaurantName: currentRestaurant.name,
                items: [...cart],
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                orderTime: new Date(),
                completed: false
            };
            
            // Add to order queue
            orderQueue.push(order);
            
            // Add to user's orders
            userOrders.push(order);
            
            // Create order summary
            orderSummary.innerHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const orderItem = document.createElement('div');
                orderItem.className = 'order-item';
                orderItem.innerHTML = `
                    <div>${item.name} (${item.quantity})</div>
                    <div>₹${itemTotal.toFixed(2)}</div>
                `;
                
                orderSummary.appendChild(orderItem);
            });
            
            orderTotal.textContent = `Total: ₹${total.toFixed(2)}`;
            
            // Clear cart
            cart = [];
            
            showScreen('order-confirmation');
        }
        
        function loadPendingOrders() {
            pendingOrdersList.innerHTML = '';
            
            const pendingOrders = orderQueue.filter(order => !order.completed);
            
            if (pendingOrders.length === 0) {
                pendingOrdersList.innerHTML = '<p>No pending orders</p>';
                return;
            }
            
            pendingOrders.forEach(order => {
                const orderCard = createOrderCard(order);
                
                const processBtn = document.createElement('button');
                processBtn.className = 'btn';
                processBtn.textContent = 'Mark as Processed';
                processBtn.addEventListener('click', () => processOrder(order.id));
                orderCard.appendChild(processBtn);
                
                pendingOrdersList.appendChild(orderCard);
            });
        }
        
        function loadProcessedOrders() {
            processedOrdersList.innerHTML = '';
            
            const processedOrders = orderQueue.filter(order => order.completed);
            
            if (processedOrders.length === 0) {
                processedOrdersList.innerHTML = '<p>No processed orders</p>';
                return;
            }
            
            processedOrders.forEach(order => {
                const orderCard = createOrderCard(order);
                processedOrdersList.appendChild(orderCard);
            });
        }
        
        function loadUserOrders() {
            userOrdersList.innerHTML = '';
            
            const orders = userOrders.filter(order => order.userId === currentUser.userId);
            
            if (orders.length === 0) {
                userOrdersList.innerHTML = '<p>You haven\'t placed any orders yet</p>';
                return;
            }
            
            orders.forEach(order => {
                const orderCard = createOrderCard(order);
                userOrdersList.appendChild(orderCard);
            });
        }
        
        function createOrderCard(order) {
            const card = document.createElement('div');
            card.className = 'order-card';
            
            let itemsHtml = '';
            order.items.forEach(item => {
                itemsHtml += `
                    <div class="order-item">
                        <div>${item.name} (${item.quantity})</div>
                        <div>₹${(item.price * item.quantity).toFixed(2)}</div>
                    </div>
                `;
            });
            
            card.innerHTML = `
                <h4>Order #${order.id} - ${order.restaurantName}</h4>
                <p>Order Time: ${order.orderTime.toLocaleString()}</p>
                <div class="order-items">${itemsHtml}</div>
                <div class="order-total">Total: ₹${order.total.toFixed(2)}</div>
                <p>Status: ${order.completed ? 'Completed' : 'Pending'}</p>
            `;
            
            return card;
        }
        
        function processOrder(orderId) {
            const order = orderQueue.find(order => order.id === orderId);
            
            if (order) {
                order.completed = true;
                showNotification(`Order #${orderId} processed successfully`);
                loadPendingOrders();
            } else {
                showNotification('Order not found', true);
            }
        }
        
        function showScreen(screenId) {
            // Hide all screens
            welcomeScreen.classList.add('hidden');
            restaurantScreen.classList.add('hidden');
            menuScreen.classList.add('hidden');
            orderConfirmation.classList.add('hidden');
            adminPanel.classList.add('hidden');
            userOrdersScreen.classList.add('hidden');
            
            // Show the requested screen
            document.getElementById(screenId).classList.remove('hidden');
        }

        // Initialize the app
        showScreen('welcome-screen');
    </script>
</body>
</html>
